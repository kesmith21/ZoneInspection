<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Zone Configuration</title>
    <link href="{{url_for('static', filename = 'css/bootstrap.min.css')}}" rel="stylesheet">
    <link rel="shortcut icon" href="{{url_for('static', filename = 'ToyotaLogo.png' )}}">
    <link href="{{url_for('static', filename = 'css/bootstrap.min.css')}}" rel="stylesheet">
    <link href="{{url_for('static', filename = 'css/style.css')}}" rel="stylesheet">
    <!--    <script type="text/javascript" src="{{url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>-->
    <script type="text/javascript" src="{{url_for('static', filename = 'js/jquery-3.5.1.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename = 'js/bootstrap.min.js')}}"></script>

    <!--	<script src="https://code.jquery.com/jquery-3.3.1.js"></script>-->
    <!--    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">-->
    <!--    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>-->


    <link href="{{url_for('static', filename = 'css/jquery.dataTables.min.css')}}" rel="stylesheet">
    <script type="text/javascript" src="{{url_for('static', filename = 'js/jquery.dataTables.min.js')}}"></script>
    <script>
    $(document).ready( function () {
    $('#example').DataTable();
} );



    </script>
</head>
<body class="Regbody">
<h2>Zone Configuration</h2>

<div class="row">
    <div class="col-md-12">
        <a class="btn btn-primary" href="/ZoneInsp/999" target="_blank">Inspection</a>
        <a class="btn btn-primary" href="/Pictures" target="_blank">Pictures</a>
        <a class="btn btn-primary" id="btnPlantConfig">Plant Config</a>
        <!--        <a class="btn btn-danger" href="/updateZoneMatrix" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-html="true" title="This will reset the inspection matrix for the next vehicles lifted from paint." methods=['POST']>Update Zone</a>-->

        </button>

    </div>
</div>
<br>

<table id="example" class="display" style="width:100%">
    <thead>
    <tr>
        <th>ZoneID</th>
        <th>Plant</th>
        <th>Veh</th>
        <th>ZoneDescription</th>
        <th>Ratio</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    {% for row in zones %}
    <tr>
        <td>{{row.0}}</td>
        <td>{{row.1}}</td>
        <td>{{row.2}}</td>
        <td>{{row.3}}</td>
        <td>{{row.4}}</td>
        <td>
            <a href="/update/{{row.0}}" class="btn btn-primary btn-xs" data-toggle="modal"
               data-target="#modaledit{{row.0}}">Edit</a>
            <!--            <a href="#modaledit{{row.0}}" class="btn btn-warning btn-xs" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>-->
        </td>
        <!--            <a href="/delete/{{ row.0 }}" class="btn btn-danger btn-xs"-->
        <!--               onclick="return confirm('Are You Sure For Delete?')">Delete</a>-->

        <!--        </td>-->

    </tr>
    <!--Update -->
    <div id="modaledit{{row.0}}" class="modal fade" role="dialog">


        <div class="modal-dialog">


            <div class="modal-content">


                <div class="modal-header">


                    <button type="button" class="close" data-dismiss="modal">&times;</button>

                    <h4 class="modal-title">Update Information</h4>


                </div>


                <div class="modal-body">

                    <form action="{{ url_for('update') }}" method="POST">


                        <div class="form-group">

                            <input type="hidden" name="id" value="{{row.0}}">

                        </div>


                        <div class="form-group">


                            <label>Vehicle:</label>
                            <label>{{row.2}}</label>


                        </div>


                        <div class="form-group">


                            <label>Zone Description:</label>
                            <label>{{row.3}}</label>

                        </div>
                        <div class="form-group">


                            <label>Ratio:</label>

                            <input type="text" class="form-control" name="ratio" value="{{row.4}}">


                        </div>

                        <div class="form-group">


                            <button class="btn btn-primary" type="submit">Update</button>


                        </div>


                    </form>

                </div>


                <div class="modal-footer">

                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                </div>


            </div>


        </div>


    </div>
    {% endfor %}
    </tbody>
</table>

<!--Insert-->
<div id="myModal" class="modal fade" role="dialog">


    <div class="modal-dialog">

        <div class="modal-content">

            <div class="modal-header">

                <button type="button" class="close" data-dismiss="modal">&times;</button>

                <h4 class="modal-title">Please Insert Data</h4>


            </div>


            <div class="modal-body">

                <form action="{{ url_for('insert') }}" method="POST">


                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" class="form-control" name="name" required="1">
                    </div>

                    <div class="form-group">
                        <label>Email:</label>
                        <input type="text" class="form-control" name="email" required="1">
                        <div class="input-group">
                            <input id="buttondropdown" name="buttondropdown" class="form-control"
                                   placeholder="placeholder" type="text">
                            <div class="input-group-btn">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                    Action
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu pull-right">
                                    <li><a href="#">Option one</a></li>
                                    <li><a href="#">Option two</a></li>
                                    <li><a href="#">Option three</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Phone:</label>
                            <input type="text" class="form-control" name="phone" required="1">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary" type="submit">Insert Data</button>
                        </div>

                    </div>

                    <div class="modal-footer">


                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>


                    </div>

                </form>
            </div>


        </div>

    </div>
</div>

<div id="plantConfig" class="modal fade" role="dialog">


    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Update Information</h4>
            </div>

            <div class="modal-body">

                <!--                    <form action="{{ url_for('updatePics') }}" method="POST">-->
                <form>

                    <div class="form-group">
                        <label>Plant:</label>
                        <input type="text" class="form-control" id="plant">
                        <br>
                        <label>Terminal:</label>
                        <input type="text" class="form-control" id="terminal">
                        <br>
                        <button id="btnUpdatePlant" class="btn btn-primary" type="submit">Update</button>


                    </div>


                </form>

            </div>


            <div class="modal-footer">

                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

            </div>


        </div>


    </div>


</div>

</body>
<script>
    $('#btnPlantConfig').on('click', function (e) {
     $('#plantConfig').modal('show');
    $('#plant').val(localStorage.getItem("plant"));
    $('#terminal').val(localStorage.getItem("terminal"));
  e.preventDefault();
});

$('#btnUpdatePlant').on('click', function (e) {
     localStorage.setItem("plant", document.getElementById("plant").value);
     localStorage.setItem("terminal", document.getElementById("terminal").value);
  e.preventDefault();
});

</script>
</html>